# short-link-platform
<h1>Сервис создания коротких ссылок</h1>
<h2>О приложении</h2>
<p>Реестр коротких ссылок. Для укорачивания ссылки пользователь может передать её в запросе, в ответ на который вернётся котокий идентификатор. При обращении по ресурсу данного идентификатора из браузера, будет произведен redirect по переданной в предыдущем запросе ссылке.</p>
<p>Приложение представляет собой 2 микросервиса, написанных на Spring Web, Spring Data конфигурированные Spring Boot и запускаемые в Docker контейнерах. Build-система - Maven. База данных - Oracle. Инициализации таблиц с помощью Liquibase.</p>

<h2>Инструкция по запуску</h2>
<p>Сервис функционирует в формате docker стека.</p>
<h3>Сборка образов</h3>
<p>База данных функционирует на образе gvenzl/oracle-xe, который предоставляется из docker hub. Образы для сервисов бизнес-логики необходимо собрать из исходников проекта.</p>
<p>Для этого необходимо выполнить команду</p>
<p><code>bash mvnw docker:build</code></p>
<p>в директориях <b>/short-link-service</b> и <b>/redirect-service</b>.</p>
<h3>Запуск</h3>
<p>Когда образы собраны, можно запустить стэк командой <code>docker stack deploy -c docker-compose.yml short-link-platform</code> в корневой папке проекта.</p>
<p>API сервиса будет доступен по адресу <code>localhost:30001</code></p>

<h2>Описание API</h2>
<h3>POST /create</h3>
<p>Создаёт короткую ссылку.</p>
<p>Request body: <code>{"longLink": "*ваша_ссылка*"}</code></p>
<p>Response body: <code>{ "shortLink": "cnQuGy6P", "longLink": "*ваша_ссылка*" }</code></p>

<h3>GET /redirect/{shortLink}</h3>
<p>Перенаправляет по ссылке, ассоциирующейся с идентификатором.</p>
<p>База данных предзаполняется записью, ассоциирующей идентификатор 1111 с ссылкой на главную страницу проекта. Можете проверить работу, перейдя в браузере по адресу <code>localhost:30001/redirect/1111</code>
